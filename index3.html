<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Your Next Big Break - Join the Waitlist</title>
  <meta name="description" content="Join an exclusive creative community of filmmakers, designers, artists and more. Early access & curated opportunities." />
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap');
    :root{
      --bg-1:#030312;
      --bg-2:#071233;
      --accent:#3b82f6;
      --muted:#9ca3af;
      --card:#0b1220;
    }

    html,body { height:100%; }
    body{
      font-family: 'Inter', sans-serif;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(59,130,246,0.06), transparent),
                  radial-gradient(900px 500px at 90% 90%, rgba(59,130,246,0.04), transparent),
                  linear-gradient(180deg,var(--bg-1), var(--bg-2));
      color: #e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
    }

    /* layout */
    .site-max { max-width:1200px; margin-left:auto; margin-right:auto; padding-left:1rem; padding-right:1rem; }

    /* animated headline letters */
    .letter-animate { display:inline-block; opacity:0; transform-origin:50% 50% -20px; }
    @keyframes letterDrop { 0%{ opacity:0; transform: translateY(-40px) rotateX(60deg) scale(.95);} 60%{opacity:1} 100%{ opacity:1; transform:none;} }

    /* subtle floating blobs */
    .blob {
      position:absolute;
      filter: blur(40px);
      opacity:0.18;
      transform: translate3d(0,0,0);
      pointer-events:none;
    }

    /* hero image / filmstrip */
    .filmstrip {
      width:100%;
      max-width:420px;
      height:auto;
      border-radius:14px;
      overflow:hidden;
      box-shadow: 0 30px 70px rgba(2,6,23,.6), 0 6px 16px rgba(59,130,246,.05);
      border: 1px solid rgba(255,255,255,0.03);
      transform: translateZ(0);
    }

    /* card */
    .glass {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.04);
      backdrop-filter: blur(8px);
    }

    /* micro-interactions */
    .btn-cta { transition: transform .18s ease, box-shadow .18s ease; }
    .btn-cta:active { transform: translateY(1px) scale(.998); }
    .field-focus { box-shadow: 0 6px 18px rgba(59,130,246,.08); transform: translateY(-3px); }

    /* floating film strip animation */
    @keyframes floatY { 0%{transform:translateY(0px)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }

    /* responsive tweaks */
    @media (max-width:1024px){
      .filmstrip { max-width:360px; }
    }
    @media (max-width:768px){
      .filmstrip { max-width:100%; }
      .hide-mobile { display:none; }
    }

    /* accessible focus outlines */
    input:focus, select:focus, button:focus { outline: 3px solid rgba(59,130,246,0.14); outline-offset: 3px; }

    /* small helper */
    .muted { color: var(--muted); }

    /* animated counter pulse */
    @keyframes counterPop { 0%{transform:scale(.85); opacity:.6} 60%{transform:scale(1.06); opacity:1} 100%{transform:none} }
  </style>
</head>

<body>
  <!-- Blobs (decorative) -->
  <div aria-hidden="true">
    <svg class="blob" style="left:-6%; top:10%; width:480px; height:480px;" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
      <g fill="#1e40af"><path d="M421,320Q385,390,320,416Q255,442,184.5,410.5Q114,379,86.5,307Q59,235,104.5,173.5Q150,112,224.5,87Q299,62,360,95Q421,128,437.5,196.5Q454,265,421,320Z"/></g>
    </svg>

    <svg class="blob" style="right:-6%; bottom:6%; width:420px; height:420px;" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
      <g fill="#0ea5e9"><path d="M444.5,305.5Q429,361,380,395Q331,429,274,432.5Q217,436,173.5,402.5Q130,369,98.5,318.5Q67,268,84,214Q101,160,155.5,135Q210,110,264.5,103.5Q319,97,375,122Q431,147,448,196.5Q465,246,444.5,305.5Z"/></g>
    </svg>
  </div>

  <main class="min-h-screen flex items-center">
    <div class="site-max w-full grid grid-cols-12 gap-8 items-center">

      <!-- LEFT: HERO (visual + copy) -->
      <section class="col-span-12 md:col-span-7 lg:col-span-7">
        <div class="max-w-2xl space-y-6">
          <div class="inline-flex items-center gap-3 bg-[#08102a] rounded-full px-3 py-1 text-sm text-[#bfe0ff] border border-white/3">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10l4.553-2.276a2 2 0 010 3.552L15 13M9 14l-4.553 2.276a2 2 0 010-3.552L9 11M9 4v16M15 4v16" /></svg>
            <span>Curated â€¢ Invite-only â€¢ Early access</span>
          </div>

          <!-- Headline (animated letters) -->
          <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold leading-tight tracking-tight">
            <span id="animatedTitle" class="block text-gradient" aria-hidden="true"></span>
            <span class="block text-xl mt-2 text-[#cfe7ff] max-w-xl font-medium">Find collaborators, pitch projects, and discover creative opportunities â€” starting now.</span>
          </h1>

          <!-- short pitch -->
          <p class="text-lg muted max-w-2xl">
            Join a focused creative community of filmmakers, designers, artists, and storytellers. We handpick early members to keep quality high â€” no spam, only relevant opportunities.
          </p>

          <!-- CTA + small visual -->
          <div class="flex items-center gap-4">
            <a href="#form" class="btn-cta inline-flex items-center gap-3 bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-5 rounded-lg shadow-md transition" style="box-shadow: 0 10px 30px rgba(59,130,246,.12);">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 -ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>
              Join Waitlist
            </a>

            <div class="flex items-center gap-3 text-sm muted">
              <div class="text-white font-semibold" id="miniCount">29</div>
              <div>members so far</div>
            </div>
          </div>

          <!-- film/visual mock -->
          <div class="mt-6 hide-mobile" aria-hidden="true">
            <div style="display:flex; gap:14px; align-items:center;">
              <div class="filmstrip animate-[floatY_6s_ease-in-out_infinite]" style="width:420px;">
                <!-- lightweight image placeholder (replace with actual mock if desired) -->
                <picture>
                  <source srcset="https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?w=1200&q=60&auto=format&fit=crop" />
                  <img alt="" src="https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?w=1200&q=60&auto=format&fit=crop" style="width:100%; height:260px; object-fit:cover; display:block;" />
                </picture>
                <div style="padding:14px;">
                  <div style="display:flex; justify-content:space-between; align-items:center;">
                    <div style="font-weight:700; color:#dbeafe">Creative Projects</div>
                    <div style="font-size:12px; color:rgba(255,255,255,0.5)">Showcase â€¢ Collaborate</div>
                  </div>
                </div>
              </div>

              <div style="flex:1; display:flex; align-items:center; gap:12px;">
                <div class="glass p-4 rounded-lg" style="width:220px;">
                  <div class="text-xs muted">Trusted by</div>
                  <div class="mt-3 flex gap-3 items-center">
                    <div class="h-8 w-8 bg-white/6 rounded flex items-center justify-center text-sm">ND</div>
                    <div class="h-8 w-8 bg-white/6 rounded flex items-center justify-center text-sm">FL</div>
                    <div class="h-8 w-8 bg-white/6 rounded flex items-center justify-center text-sm">CR</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- RIGHT: FORM (kept ids/names intact for Apps Script) -->
      <aside id="form" class="col-span-12 md:col-span-5 lg:col-span-5">
        <div class="glass p-6 rounded-2xl shadow-2xl border border-white/6">
          <div class="flex items-start justify-between gap-2 mb-4">
            <div>
              <h3 class="text-xl font-semibold">Join the Waitlist</h3>
              <p class="text-sm muted mt-1">Get early access & invitations to curated collaborations.</p>
            </div>
            <div class="text-xs muted text-right">No spam â€¢ Unsubscribe anytime</div>
          </div>

          <!-- FORM (do not change ids/names - integrated with Apps Script) -->
          <form id="waitlistForm" class="space-y-4" novalidate>
            <div>
              <label for="fullName" class="text-sm font-medium text-[#cfe7ff]">Full name</label>
              <input id="fullName" name="fullName" required type="text" placeholder="Your full name"
                     class="mt-2 block w-full px-4 py-3 rounded-lg bg-[#061227] border border-white/6 placeholder:muted text-white focus:ring-0 focus:shadow-outline" />
            </div>

            <div>
              <label for="email" class="text-sm font-medium text-[#cfe7ff]">Email address</label>
              <input id="email" name="email" required type="email" placeholder="email@example.com"
                     class="mt-2 block w-full px-4 py-3 rounded-lg bg-[#061227] border border-white/6 placeholder:muted text-white focus:ring-0 focus:shadow-outline" />
            </div>

            <div>
              <label for="role" class="text-sm font-medium text-[#cfe7ff]">Role</label>
              <select id="role" name="role" required
                      class="mt-2 block w-full px-4 py-3 rounded-lg bg-[#061227] border border-white/6 text-white">
                <option value="">Select your role</option>
                <option>Designer</option>
                <option>Filmmaker</option>
                <option>Artist</option>
                <option>Photographer</option>
                <option>Animator</option>
                <option>Writer</option>
                <option>Musician</option>
                <option>Actor</option>
                <option>Creative Director</option>
                <option>Art Director</option>
                <option>Copywriter</option>
                <option>Illustrator</option>
                <option>Video Editor</option>
                <option>Sound Designer</option>
                <option>Game Developer</option>
                <option>Other</option>
              </select>
            </div>

            <div>
              <label for="location" class="text-sm font-medium text-[#cfe7ff]">Location</label>
              <input id="location" name="location" required type="text" placeholder="City, Country"
                     class="mt-2 block w-full px-4 py-3 rounded-lg bg-[#061227] border border-white/6 text-white" />
            </div>

            <div class="pt-2">
              <button id="submitBtn" type="submit" class="w-full py-3 rounded-lg bg-gradient-to-r from-blue-500 to-sky-500 hover:scale-[1.01] transition transform text-white font-semibold btn-cta">
                Join the Waitlist
              </button>
            </div>

            <!-- small note -->
            <div class="text-xs muted text-center mt-1">We only contact when something relevant is available â€” no spam.</div>
          </form>

          <!-- Thank you card (hidden initially) -->
          <div id="thankYou" class="hidden text-center py-8">
            <div class="text-5xl mb-2">ðŸŽ¬</div>
            <h4 class="text-lg font-bold text-[#dbeafe]">Thank you â€” you're on the list!</h4>
            <p class="muted mt-2 text-sm">Keep an eye on your inbox. Meanwhile, invite a friend who might love this.</p>
          </div>
        </div>

        <!-- small stats card under form -->
        <div class="mt-4 p-4 glass rounded-lg border border-white/5 flex gap-4 items-center">
          <div>
            <div id="totalMembers" class="text-2xl font-extrabold">0</div>
            <div class="text-sm muted">Total community</div>
          </div>
          <div class="ml-auto text-right">
            <div id="designers" class="text-lg font-semibold text-sky-300">0</div>
            <div class="text-sm muted">Designers</div>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <!-- Footer -->
  <footer class="py-8">
    <div class="site-max text-center muted text-sm">
      Â© <span id="year"></span> Creative Community â€” Built with care. Privacy-first.
    </div>
  </footer>

  <!-- SCRIPT: kept Apps Script integration untouched; only enhancing UI & animations -->
  <script>
    // ---------- CONFIG (do not change integration part) ----------
    const CONFIG = {
      GAS_URL: 'https://script.google.com/macros/s/AKfycbxu4WMjUJiu51xZTrL8aMS9Z5FO5fOXQnVHdkp6cviJM2Ibu6Vd2t_oLXqFy6Z9awCwnA/exec',
      TITLE: 'Your next big break is here',
      LETTER_DELAY_MS: 90
    };
    // ----------------------------------------------------------------

    // DOM helpers
    const $ = sel => document.querySelector(sel);
    const $$ = sel => Array.from(document.querySelectorAll(sel));

    // animate title letter-by-letter with slight 3D effect
    function animateTitle(text) {
      const container = $('#animatedTitle');
      container.innerHTML = '';
      let idx = 0;
      text.split(' ').forEach((word, wIndex) => {
        const wrap = document.createElement('span');
        wrap.className = 'inline-block mr-4';
        word.split('').forEach(ch => {
          const s = document.createElement('span');
          s.textContent = ch;
          s.className = 'letter-animate';
          const delay = idx * CONFIG.LETTER_DELAY_MS;
          s.style.animation = `letterDrop .6s cubic-bezier(.2,.9,.3,1) forwards`;
          s.style.animationDelay = `${delay}ms`;
          s.style.transformOrigin = '50% 50% -20px';
          wrap.appendChild(s);
          idx++;
        });
        container.appendChild(wrap);
      });
    }

    // Animate counters (simple)
    function animateNumber(el, to) {
      const start = performance.now();
      const duration = 900;
      function tick(now) {
        const p = Math.min((now - start) / duration, 1);
        const val = Math.floor(p * to);
        el.textContent = val.toLocaleString();
        if (p < 1) requestAnimationFrame(tick);
        else { el.textContent = to.toLocaleString(); el.style.animation = 'counterPop .55s ease'; }
      }
      requestAnimationFrame(tick);
    }

    // Wire form (kept all names and ids)
    function wireForm() {
      const form = $('#waitlistForm');
      const btn  = $('#submitBtn');
      const thank = $('#thankYou');

      form.addEventListener('submit', async (ev) => {
        ev.preventDefault();
        const fullName = form.fullName.value.trim();
        const email = form.email.value.trim();
        const role = form.role.value.trim();
        const location = form.location.value.trim();

        if (!fullName) return alert('Please enter your full name');
        if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) return alert('Please enter a valid email');
        if (!role) return alert('Please select your role');
        if (!location) return alert('Please enter your location');

        // loading micro-interaction
        const orig = btn.innerHTML;
        btn.disabled = true;
        btn.innerHTML = 'Joining...';

        try {
          const body = new URLSearchParams({ fullName, email, role, location }).toString();
          const res = await fetch(CONFIG.GAS_URL + '?action=submit', {
            method: 'POST',
            headers: { 'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8' },
            body
          });
          const data = await res.json().catch(() => ({}));
          if (data && data.ok) {
            form.classList.add('hidden');
            thank.classList.remove('hidden');
            fetchStats(true);
          } else {
            alert(data && data.error ? data.error : 'Submission failed. Try again.');
          }
        } catch (err) {
          console.error(err);
          alert('Network error. Please try again.');
        } finally {
          btn.disabled = false;
          btn.innerHTML = orig;
        }
      });

      // focus micro-effects
      ['input','select'].forEach(t => {
        form.querySelectorAll(t).forEach(el => {
          el.addEventListener('focus', () => el.classList.add('field-focus'));
          el.addEventListener('blur', () => el.classList.remove('field-focus'));
        });
      });
    }

    // fetch stats (keeps same ?action=stats contract)
    async function fetchStats(withAnim=false) {
      try {
        const res = await fetch(CONFIG.GAS_URL + '?action=stats');
        const json = await res.json();
        const total = json.total || 0;
        const byRole = json.byRole || {};

        const totals = {
          totalMembers: total,
          designers: byRole['Designer'] || 0,
          artists: byRole['Artist'] || 0,
          filmmakers: byRole['Filmmaker'] || 0
        };

        Object.entries(totals).forEach(([k,v]) => {
          const el = document.getElementById(k);
          if (!el) return;
          if (withAnim) animateNumber(el, v);
          else el.textContent = Number(v).toLocaleString();
        });

        // small mini count in hero
        const mini = document.getElementById('miniCount');
        if (mini) mini.textContent = (totals.totalMembers || 0).toLocaleString();
      } catch (err) {
        console.warn('Could not fetch stats', err);
      }
    }

    // small parallax: move blobs slightly on mouse
    function wireParallax() {
      const blobs = Array.from(document.querySelectorAll('.blob'));
      if (!blobs.length) return;
      document.addEventListener('mousemove', (e) => {
        const cx = window.innerWidth/2;
        const cy = window.innerHeight/2;
        const dx = (e.clientX - cx) / cx;
        const dy = (e.clientY - cy) / cy;
        blobs.forEach((b,i) => {
          const factor = (i+1) * 6;
          b.style.transform = `translate3d(${dx*factor}px, ${dy*factor}px, 0)`;
        });
      });
    }

    // small UX: set current year
    document.getElementById('year').textContent = new Date().getFullYear();

    // initialization
    document.addEventListener('DOMContentLoaded', () => {
      animateTitle(CONFIG.TITLE);
      wireForm();
      fetchStats();
      wireParallax();
    });

    // accessibility: smooth focus for anchor
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', (evt) => {
        evt.preventDefault();
        const id = a.getAttribute('href').slice(1);
        const target = document.getElementById(id);
        if (target) target.scrollIntoView({ behavior: 'smooth', block: 'center' });
      });
    });

  </script>
</body>
</html>
